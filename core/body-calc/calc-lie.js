var e=require("../../@babel/runtime/helpers/possibleConstructorReturn"),t=require("../../@babel/runtime/helpers/getPrototypeOf"),r=require("../../@babel/runtime/helpers/inherits"),i=require("../../@babel/runtime/helpers/createClass"),n=require("../../@babel/runtime/helpers/classCallCheck");function l(r,i,n){return i=t(i),e(r,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(i,n||[],t(r).constructor):i.apply(r,n))}var o=require("../../utils/utils"),u=require("./calc-horizontal").CalcHorizontal,s=i((function e(){n(this,e),this.name="卧躺计算",this.calc="lie",this.offset=15})),c=function(e){function t(){return n(this,t),l(this,t,arguments)}return r(t,u),i(t,[{key:"_isLeftHorizontal",value:function(e,t){return!!this.isHorizontal(e,"left_shoulder","left_hip","left_knee",t)&&!!this.isHorizontal(e,"left_hip","left_knee","left_ankle",t)}},{key:"_isRightHorizontal",value:function(e,t){return!!this.isHorizontal(e,"right_shoulder","right_hip","right_knee",t)&&!!this.isHorizontal(e,"right_hip","right_knee","left_ankle",t)}},{key:"isLie",value:function(e,t){return!o.isEmptyArray(e)&&(this._isLeftHorizontal(e,t)||this._isRightHorizontal(e,t))}},{key:"judging",value:function(e,t){if(!t||"lie"!=t.calc)throw new Error("规则为空，或者配置的不是卧躺规则");try{return this.isLie(e.keypoints,t.offset)}catch(e){return console.warn("calc-lie",e),!1}}}])}();module.exports={CalcRuleLie:s,CalcLie:c};