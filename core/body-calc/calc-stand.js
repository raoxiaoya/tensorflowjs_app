var e=require("../../@babel/runtime/helpers/possibleConstructorReturn"),t=require("../../@babel/runtime/helpers/getPrototypeOf"),r=require("../../@babel/runtime/helpers/inherits"),i=require("../../@babel/runtime/helpers/createClass"),n=require("../../@babel/runtime/helpers/classCallCheck");function l(r,i,n){return i=t(i),e(r,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(i,n||[],t(r).constructor):i.apply(r,n))}var c=require("../../utils/utils"),s=require("./calc-vertical").CalcVertical,u=i((function e(){n(this,e),this.name="站立计算",this.calc="stand",this.offset=15})),a=function(e){function t(){return n(this,t),l(this,t,arguments)}return r(t,s),i(t,[{key:"_isLeftErect",value:function(e,t){return!!this.isVertical(e,"left_shoulder","left_hip","left_knee",t)&&!!this.isVertical(e,"left_hip","left_knee","left_ankle",t)}},{key:"_isRightErect",value:function(e,t){return!!this.isVertical(e,"right_shoulder","right_hip","right_knee",t)&&!!this.isVertical(e,"right_hip","right_knee","left_ankle",t)}},{key:"isStanding",value:function(e,t){return!c.isEmptyArray(e)&&(this._isLeftErect(e,t)||this._isRightErect(e,t))}},{key:"judging",value:function(e,t){if(!t||"stand"!=t.calc)throw new Error("规则为空，或者配置的不是站立规则");try{return this.isStanding(e.keypoints,t.offset)}catch(e){return console.warn("calc-stand",e),!1}}}])}();module.exports={CalcRuleStand:u,CalcStand:a};