var e=require("../../@babel/runtime/helpers/classCallCheck"),t=require("../../@babel/runtime/helpers/createClass"),l=require("../../@babel/runtime/helpers/possibleConstructorReturn"),r=require("../../@babel/runtime/helpers/get"),s=require("../../@babel/runtime/helpers/getPrototypeOf"),a=require("../../@babel/runtime/helpers/inherits");var i=require("../../utils/utils"),n=require("./sport-base"),h=require("../body-calc/calculator"),o=function(o){function c(t){var r,a,i,n;return e(this,c),a=this,n=[t],i=s(i=c),(r=l(a,function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(i,n||[],s(a).constructor):i.apply(a,n))).threshold=30,r.ruels=null,r._calculator=null,r.view="side",r.tickMode=!1,r._calculator=new h,r._calculator.pointThreshold=r.pointThreshold,r.rules={ruleThreshold:r.threshold},r}return a(c,n),t(c,[{key:"start",value:function(){r(s(c.prototype),"start",this).call(this),this._calculator.pointThreshold=this.pointThreshold}},{key:"buildRules",value:function(){if(!this.rules.pose||this.rules.ruleThreshold!==this.threshold){var e={name:"平板支撑检查",calc:"$and",rules:[{name:"全身进入图像范围内检查",calc:"whole"},{name:"人体卧姿状态检查",calc:"lie"},{name:"脚180度检测",calc:"$or",rules:[{name:"左脚180度伸值",calc:"match-angle",angleKey:"left_knee",secondKey:"left_hip",thirdKey:"left_ankle",angle:180,offset:this.threshold},{name:"右脚180度伸值",calc:"match-angle",angleKey:"right_knee",secondKey:"right_hip",thirdKey:"right_ankle",angle:180,offset:this.threshold}]},{name:"手臂90度检测",calc:"$or",rules:[{name:"左手90度弯曲",calc:"match-angle",angleKey:"left_elbow",secondKey:"left_shoulder",thirdKey:"left_wrist",angle:90,offset:this.threshold},{name:"右手90度弯曲",calc:"match-angle",angleKey:"right_elbow",secondKey:"right_shoulder",thirdKey:"right_wrist",angle:90,offset:this.threshold}]},{name:"腋下夹角90度检测",calc:"$or",rules:[{name:"左腋90度",calc:"match-angle",angleKey:"left_shoulder",secondKey:"left_elbow",thirdKey:"left_hip",angle:90,offset:45},{name:"右腋90度",calc:"match-angle",angleKey:"right_shoulder",secondKey:"right_elbow",thirdKey:"right_hip",angle:90,offset:45}]}]};this.rules.pose=e,this.rules.ruleThreshold=this.threshold}}},{key:"pushing",value:function(e){this.isCounting&&(i.isNone(e)?this.pauseTime():(this.buildRules(),this._calculator.calculating(e,this.rules.pose)?(console.log("平板撑中..."),this.tickTime()):this.pauseTime()))}}])}();o.KEY="Plank",o.NAME="平板支撑",module.exports=o;